# simple file server
간단한 소켓통신 파일 서버
- f-lab 멘토링 과제

## 프로그램 정의
- 포트번호 7777을 사용하는 소켓 서버 구현
- 클라이언트가 서버에 접속후 파일 요청을 보내면 해당 경로의 파일 데이터를 응답
- 요청 형식
  - GET [파일경로]
    - `GET` 다음에 공백이 하나오고 그 뒤에 경로가 온다. 경로가 온 다음에는 `\n`이 두번(즉, GET입력 후 빈 줄이 최소 하나 있어야 함) 오면된다. 서버는 이 시점 이후의 클라이언트 입력은 무시하고, 파일을 전송후 바로 연결을 끊는다.
ex) 
```
GET /test/test.txt
```
- 응답 형식
  - 파일 확장자가 txt, java, kt, kts, c, cpp, scala라면 UTF-8로 인코딩해서 송신
  - 확장자가 위에 해당하지 않는 경우에는 각 바이트를 16진 대문자 hex로 변환해서 송신
  - 파일 데이터 마지막에는 \n을 송신
  - 그 뒤에 파일 전체의 체크섬(MD5사용) 송신. 체크썸은 공백없이 MD5체크섬 각 바이트를 대문자 hex로 변환한 문자열이다. 16바이트이므로 전체 32글자가 된다.
    (주의할 점은 `byte`값이 음수인 경우 정수로 변환한 다음, 256을 더해서 양수로 바꿔야 한자리 hex를 얻을 수 있다)
ex)
```
Hello, World!
This is file server test
good bye~
4AA2E1029FFD27A4515D538C51E8B2
```

## 동기 서버 vs 비동기 서버
- 동기서버
  - 전통적인 소켓프로그래밍 방식
  - BlockingIoFileServer.java 참조
  - 싱글 스레드인 경우, 여러 클라이언트가 동시에 요청할때 처음 연결된 클라이언트의 연결이 끊기기 전까지는 다른 클라이언트와 연결할 수 없음
  
  => 여러개의 클라이언트를 처리하기 위해서는 각 소켓 연결을 위한 스레드를 생성해서 처리해야함

- 비동기서버
  - 이벤트 기반의 비동기 처리 방식
  - NonBlockingIoFileServer.java 참조
  - 싱글 스레드로 여러개의 클라이언트의 요청을 처리할 수 있음     
